{"version":3,"file":"crc32c.js","names":["CRC32C","options","arguments","length","undefined","_classCallCheck2","default","_defineProperty2","crc","_createClass2","key","value","update","arrayBuffer","byteArray","Uint8Array","CRC32_TABLE","getCRC32Table","i","finalize","exports","CRC32C_TABLE","Int32Array","of"],"sources":["../../../../src/lib/algorithms/crc32c.ts"],"sourcesContent":["// From: https://gist.github.com/wqli78/1330293/6d85cc967f32cccfcbad94ae7d088a3dcfc14bd9\n// CRC32 doesn't appear to be supported natively by crypto-js\n\n// import {toBuffer} from '@loaders.gl/loader-utils';\n// import {calculate as sse4calculate} from 'sse4_crc32';\n\n/**\n * Calculates the CRC32C checksum of a string.\n */\nexport default class CRC32C {\n  options;\n  crc: number;\n\n  constructor(options = {}) {\n    this.options = options;\n    this.crc = ~0;\n  }\n\n  update(arrayBuffer) {\n    const byteArray = new Uint8Array(arrayBuffer);\n    const CRC32_TABLE = getCRC32Table();\n    for (let i = 0; i < byteArray.length; i++) {\n      this.crc = CRC32_TABLE[(this.crc ^ byteArray[i]) & 0xff] ^ (this.crc >>> 8);\n    }\n    return this;\n  }\n\n  finalize() {\n    this.crc = (this.crc ^ -1) >>> 0;\n    return this.crc;\n  }\n}\n\n/**\n * This code is a manual javascript translation of c code generated by\n * pycrc 0.7.1 (http://www.tty1.net/pycrc/). Command line used:\n * './pycrc.py --model=crc-32c --generate c --algorithm=table-driven'\n */\n\n// Note: Using a typed array here doubles the speed of the cipher\nconst CRC32C_TABLE = Int32Array.of(\n  0x00000000,\n  0xf26b8303,\n  0xe13b70f7,\n  0x1350f3f4,\n  0xc79a971f,\n  0x35f1141c,\n  0x26a1e7e8,\n  0xd4ca64eb,\n  0x8ad958cf,\n  0x78b2dbcc,\n  0x6be22838,\n  0x9989ab3b,\n  0x4d43cfd0,\n  0xbf284cd3,\n  0xac78bf27,\n  0x5e133c24,\n  0x105ec76f,\n  0xe235446c,\n  0xf165b798,\n  0x030e349b,\n  0xd7c45070,\n  0x25afd373,\n  0x36ff2087,\n  0xc494a384,\n  0x9a879fa0,\n  0x68ec1ca3,\n  0x7bbcef57,\n  0x89d76c54,\n  0x5d1d08bf,\n  0xaf768bbc,\n  0xbc267848,\n  0x4e4dfb4b,\n  0x20bd8ede,\n  0xd2d60ddd,\n  0xc186fe29,\n  0x33ed7d2a,\n  0xe72719c1,\n  0x154c9ac2,\n  0x061c6936,\n  0xf477ea35,\n  0xaa64d611,\n  0x580f5512,\n  0x4b5fa6e6,\n  0xb93425e5,\n  0x6dfe410e,\n  0x9f95c20d,\n  0x8cc531f9,\n  0x7eaeb2fa,\n  0x30e349b1,\n  0xc288cab2,\n  0xd1d83946,\n  0x23b3ba45,\n  0xf779deae,\n  0x05125dad,\n  0x1642ae59,\n  0xe4292d5a,\n  0xba3a117e,\n  0x4851927d,\n  0x5b016189,\n  0xa96ae28a,\n  0x7da08661,\n  0x8fcb0562,\n  0x9c9bf696,\n  0x6ef07595,\n  0x417b1dbc,\n  0xb3109ebf,\n  0xa0406d4b,\n  0x522bee48,\n  0x86e18aa3,\n  0x748a09a0,\n  0x67dafa54,\n  0x95b17957,\n  0xcba24573,\n  0x39c9c670,\n  0x2a993584,\n  0xd8f2b687,\n  0x0c38d26c,\n  0xfe53516f,\n  0xed03a29b,\n  0x1f682198,\n  0x5125dad3,\n  0xa34e59d0,\n  0xb01eaa24,\n  0x42752927,\n  0x96bf4dcc,\n  0x64d4cecf,\n  0x77843d3b,\n  0x85efbe38,\n  0xdbfc821c,\n  0x2997011f,\n  0x3ac7f2eb,\n  0xc8ac71e8,\n  0x1c661503,\n  0xee0d9600,\n  0xfd5d65f4,\n  0x0f36e6f7,\n  0x61c69362,\n  0x93ad1061,\n  0x80fde395,\n  0x72966096,\n  0xa65c047d,\n  0x5437877e,\n  0x4767748a,\n  0xb50cf789,\n  0xeb1fcbad,\n  0x197448ae,\n  0x0a24bb5a,\n  0xf84f3859,\n  0x2c855cb2,\n  0xdeeedfb1,\n  0xcdbe2c45,\n  0x3fd5af46,\n  0x7198540d,\n  0x83f3d70e,\n  0x90a324fa,\n  0x62c8a7f9,\n  0xb602c312,\n  0x44694011,\n  0x5739b3e5,\n  0xa55230e6,\n  0xfb410cc2,\n  0x092a8fc1,\n  0x1a7a7c35,\n  0xe811ff36,\n  0x3cdb9bdd,\n  0xceb018de,\n  0xdde0eb2a,\n  0x2f8b6829,\n  0x82f63b78,\n  0x709db87b,\n  0x63cd4b8f,\n  0x91a6c88c,\n  0x456cac67,\n  0xb7072f64,\n  0xa457dc90,\n  0x563c5f93,\n  0x082f63b7,\n  0xfa44e0b4,\n  0xe9141340,\n  0x1b7f9043,\n  0xcfb5f4a8,\n  0x3dde77ab,\n  0x2e8e845f,\n  0xdce5075c,\n  0x92a8fc17,\n  0x60c37f14,\n  0x73938ce0,\n  0x81f80fe3,\n  0x55326b08,\n  0xa759e80b,\n  0xb4091bff,\n  0x466298fc,\n  0x1871a4d8,\n  0xea1a27db,\n  0xf94ad42f,\n  0x0b21572c,\n  0xdfeb33c7,\n  0x2d80b0c4,\n  0x3ed04330,\n  0xccbbc033,\n  0xa24bb5a6,\n  0x502036a5,\n  0x4370c551,\n  0xb11b4652,\n  0x65d122b9,\n  0x97baa1ba,\n  0x84ea524e,\n  0x7681d14d,\n  0x2892ed69,\n  0xdaf96e6a,\n  0xc9a99d9e,\n  0x3bc21e9d,\n  0xef087a76,\n  0x1d63f975,\n  0x0e330a81,\n  0xfc588982,\n  0xb21572c9,\n  0x407ef1ca,\n  0x532e023e,\n  0xa145813d,\n  0x758fe5d6,\n  0x87e466d5,\n  0x94b49521,\n  0x66df1622,\n  0x38cc2a06,\n  0xcaa7a905,\n  0xd9f75af1,\n  0x2b9cd9f2,\n  0xff56bd19,\n  0x0d3d3e1a,\n  0x1e6dcdee,\n  0xec064eed,\n  0xc38d26c4,\n  0x31e6a5c7,\n  0x22b65633,\n  0xd0ddd530,\n  0x0417b1db,\n  0xf67c32d8,\n  0xe52cc12c,\n  0x1747422f,\n  0x49547e0b,\n  0xbb3ffd08,\n  0xa86f0efc,\n  0x5a048dff,\n  0x8ecee914,\n  0x7ca56a17,\n  0x6ff599e3,\n  0x9d9e1ae0,\n  0xd3d3e1ab,\n  0x21b862a8,\n  0x32e8915c,\n  0xc083125f,\n  0x144976b4,\n  0xe622f5b7,\n  0xf5720643,\n  0x07198540,\n  0x590ab964,\n  0xab613a67,\n  0xb831c993,\n  0x4a5a4a90,\n  0x9e902e7b,\n  0x6cfbad78,\n  0x7fab5e8c,\n  0x8dc0dd8f,\n  0xe330a81a,\n  0x115b2b19,\n  0x020bd8ed,\n  0xf0605bee,\n  0x24aa3f05,\n  0xd6c1bc06,\n  0xc5914ff2,\n  0x37faccf1,\n  0x69e9f0d5,\n  0x9b8273d6,\n  0x88d28022,\n  0x7ab90321,\n  0xae7367ca,\n  0x5c18e4c9,\n  0x4f48173d,\n  0xbd23943e,\n  0xf36e6f75,\n  0x0105ec76,\n  0x12551f82,\n  0xe03e9c81,\n  0x34f4f86a,\n  0xc69f7b69,\n  0xd5cf889d,\n  0x27a40b9e,\n  0x79b737ba,\n  0x8bdcb4b9,\n  0x988c474d,\n  0x6ae7c44e,\n  0xbe2da0a5,\n  0x4c4623a6,\n  0x5f16d052,\n  0xad7d5351\n);\n\nfunction getCRC32Table() {\n  return CRC32C_TABLE;\n}\n"],"mappings":";;;;;;;;;;IASqBA,MAAM;EAIzB,SAAAA,OAAA,EAA0B;IAAA,IAAdC,OAAO,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;IAAA,IAAAG,gBAAA,CAAAC,OAAA,QAAAN,MAAA;IAAA,IAAAO,gBAAA,CAAAD,OAAA;IAAA,IAAAC,gBAAA,CAAAD,OAAA;IACtB,IAAI,CAACL,OAAO,GAAGA,OAAO;IACtB,IAAI,CAACO,GAAG,GAAG,CAAC,CAAC;EACf;EAAC,IAAAC,aAAA,CAAAH,OAAA,EAAAN,MAAA;IAAAU,GAAA;IAAAC,KAAA,EAED,SAAAC,OAAOC,WAAW,EAAE;MAClB,IAAMC,SAAS,GAAG,IAAIC,UAAU,CAACF,WAAW,CAAC;MAC7C,IAAMG,WAAW,GAAGC,aAAa,CAAC,CAAC;MACnC,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGJ,SAAS,CAACX,MAAM,EAAEe,CAAC,EAAE,EAAE;QACzC,IAAI,CAACV,GAAG,GAAGQ,WAAW,CAAC,CAAC,IAAI,CAACR,GAAG,GAAGM,SAAS,CAACI,CAAC,CAAC,IAAI,IAAI,CAAC,GAAI,IAAI,CAACV,GAAG,KAAK,CAAE;MAC7E;MACA,OAAO,IAAI;IACb;EAAC;IAAAE,GAAA;IAAAC,KAAA,EAED,SAAAQ,SAAA,EAAW;MACT,IAAI,CAACX,GAAG,GAAG,CAAC,IAAI,CAACA,GAAG,GAAG,CAAC,CAAC,MAAM,CAAC;MAChC,OAAO,IAAI,CAACA,GAAG;IACjB;EAAC;EAAA,OAAAR,MAAA;AAAA;AAAAoB,OAAA,CAAAd,OAAA,GAAAN,MAAA;AAUH,IAAMqB,YAAY,GAAGC,UAAU,CAACC,EAAE,CAChC,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,EACV,UACF,CAAC;AAED,SAASN,aAAaA,CAAA,EAAG;EACvB,OAAOI,YAAY;AACrB"}