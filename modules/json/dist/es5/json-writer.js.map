{"version":3,"file":"json-writer.js","names":["_jsonEncoder","require","JSONWriter","id","version","module","name","extensions","mimeTypes","options","text","encode","_encode","_asyncToGenerator2","default","_regenerator","mark","_callee","table","wrap","_callee$","_context","prev","next","abrupt","TextEncoder","encodeTableAsJSON","buffer","stop","_x","_x2","apply","arguments","encodeText","exports"],"sources":["../../src/json-writer.ts"],"sourcesContent":["// loaders.gl, MIT license\n// Copyright 2022 Foursquare Labs, Inc.\n\n/* global TextEncoder */\nimport type {Writer} from '@loaders.gl/loader-utils';\nimport type {Table, TableBatch} from '@loaders.gl/schema';\nimport type {JSONWriterOptions} from './lib/encoders/json-encoder';\nimport {encodeTableAsJSON} from './lib/encoders/json-encoder';\n\nexport type {JSONWriterOptions};\n\nexport const JSONWriter: Writer<Table, TableBatch, JSONWriterOptions> = {\n  id: 'json',\n  version: 'latest',\n  module: 'json',\n  name: 'JSON',\n  extensions: ['json'],\n  mimeTypes: ['application/json'],\n  options: {},\n  text: true,\n  encode: async (table: Table, options: JSONWriterOptions) =>\n    new TextEncoder().encode(encodeTableAsJSON(table, options)).buffer,\n  encodeText: (table: Table, options: JSONWriterOptions) => encodeTableAsJSON(table, options)\n};\n"],"mappings":";;;;;;;;;AAOA,IAAAA,YAAA,GAAAC,OAAA;AAIO,IAAMC,UAAwD,GAAG;EACtEC,EAAE,EAAE,MAAM;EACVC,OAAO,EAAE,QAAQ;EACjBC,MAAM,EAAE,MAAM;EACdC,IAAI,EAAE,MAAM;EACZC,UAAU,EAAE,CAAC,MAAM,CAAC;EACpBC,SAAS,EAAE,CAAC,kBAAkB,CAAC;EAC/BC,OAAO,EAAE,CAAC,CAAC;EACXC,IAAI,EAAE,IAAI;EACVC,MAAM;IAAA,IAAAC,OAAA,OAAAC,kBAAA,CAAAC,OAAA,EAAAC,YAAA,CAAAD,OAAA,CAAAE,IAAA,CAAE,SAAAC,QAAOC,KAAY,EAAET,OAA0B;MAAA,OAAAM,YAAA,CAAAD,OAAA,CAAAK,IAAA,UAAAC,SAAAC,QAAA;QAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YAAA,OAAAF,QAAA,CAAAG,MAAA,WACrD,IAAIC,WAAW,CAAC,CAAC,CAACd,MAAM,CAAC,IAAAe,8BAAiB,EAACR,KAAK,EAAET,OAAO,CAAC,CAAC,CAACkB,MAAM;UAAA;UAAA;YAAA,OAAAN,QAAA,CAAAO,IAAA;QAAA;MAAA,GAAAX,OAAA;IAAA;IAAA,SAAAN,OAAAkB,EAAA,EAAAC,GAAA;MAAA,OAAAlB,OAAA,CAAAmB,KAAA,OAAAC,SAAA;IAAA;IAAA,OAAArB,MAAA;EAAA;EACpEsB,UAAU,EAAE,SAAAA,WAACf,KAAY,EAAET,OAA0B;IAAA,OAAK,IAAAiB,8BAAiB,EAACR,KAAK,EAAET,OAAO,CAAC;EAAA;AAC7F,CAAC;AAACyB,OAAA,CAAAhC,UAAA,GAAAA,UAAA"}