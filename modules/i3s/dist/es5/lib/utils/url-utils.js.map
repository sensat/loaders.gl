{"version":3,"file":"url-utils.js","names":["getUrlWithToken","url","token","arguments","length","undefined","concat","generateTileAttributeUrls","tile","_tile$attributeData","attributeData","attributeUrls","index","attributeUrl","href","replace","push","generateTilesetAttributeUrls","tileset","resource","attributeStorageInfo","fileName","key"],"sources":["../../../../src/lib/utils/url-utils.ts"],"sourcesContent":["import {Node3DIndexDocument} from '../../types';\n\n/**\n * Generates url with token if it is exists.\n * @param url\n * @param token\n * @returns\n */\nexport function getUrlWithToken(url: string, token: string | null = null): string {\n  return token ? `${url}?token=${token}` : url;\n}\n\n/**\n * Generates attribute urls for tile.\n * @param tile\n * @returns list of attribute urls\n */\nexport function generateTileAttributeUrls(url: string, tile: Node3DIndexDocument): string[] {\n  const {attributeData = []} = tile;\n  const attributeUrls: string[] = [];\n\n  for (let index = 0; index < attributeData.length; index++) {\n    const attributeUrl = attributeData[index].href.replace('./', '');\n    attributeUrls.push(`${url}/${attributeUrl}`);\n  }\n\n  return attributeUrls;\n}\n\n/**\n * Generates attribute urls for tileset based on tileset and resource\n * @param {Object} tileset\n * @param {number} resource\n * @returns {Array}\n */\nexport function generateTilesetAttributeUrls(tileset, resource) {\n  const attributeUrls: string[] = [];\n  const {attributeStorageInfo, url} = tileset;\n\n  for (let index = 0; index < attributeStorageInfo.length; index++) {\n    const fileName = attributeStorageInfo[index].key;\n    attributeUrls.push(`${url}/nodes/${resource}/attributes/${fileName}/0`);\n  }\n\n  return attributeUrls;\n}\n"],"mappings":";;;;;;;;AAQO,SAASA,eAAeA,CAACC,GAAW,EAAuC;EAAA,IAArCC,KAAoB,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,IAAI;EACtE,OAAOD,KAAK,MAAAI,MAAA,CAAML,GAAG,aAAAK,MAAA,CAAUJ,KAAK,IAAKD,GAAG;AAC9C;AAOO,SAASM,yBAAyBA,CAACN,GAAW,EAAEO,IAAyB,EAAY;EAC1F,IAAAC,mBAAA,GAA6BD,IAAI,CAA1BE,aAAa;IAAbA,aAAa,GAAAD,mBAAA,cAAG,EAAE,GAAAA,mBAAA;EACzB,IAAME,aAAuB,GAAG,EAAE;EAElC,KAAK,IAAIC,KAAK,GAAG,CAAC,EAAEA,KAAK,GAAGF,aAAa,CAACN,MAAM,EAAEQ,KAAK,EAAE,EAAE;IACzD,IAAMC,YAAY,GAAGH,aAAa,CAACE,KAAK,CAAC,CAACE,IAAI,CAACC,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC;IAChEJ,aAAa,CAACK,IAAI,IAAAV,MAAA,CAAIL,GAAG,OAAAK,MAAA,CAAIO,YAAY,CAAE,CAAC;EAC9C;EAEA,OAAOF,aAAa;AACtB;AAQO,SAASM,4BAA4BA,CAACC,OAAO,EAAEC,QAAQ,EAAE;EAC9D,IAAMR,aAAuB,GAAG,EAAE;EAClC,IAAOS,oBAAoB,GAASF,OAAO,CAApCE,oBAAoB;IAAEnB,GAAG,GAAIiB,OAAO,CAAdjB,GAAG;EAEhC,KAAK,IAAIW,KAAK,GAAG,CAAC,EAAEA,KAAK,GAAGQ,oBAAoB,CAAChB,MAAM,EAAEQ,KAAK,EAAE,EAAE;IAChE,IAAMS,QAAQ,GAAGD,oBAAoB,CAACR,KAAK,CAAC,CAACU,GAAG;IAChDX,aAAa,CAACK,IAAI,IAAAV,MAAA,CAAIL,GAAG,aAAAK,MAAA,CAAUa,QAAQ,kBAAAb,MAAA,CAAee,QAAQ,OAAI,CAAC;EACzE;EAEA,OAAOV,aAAa;AACtB"}