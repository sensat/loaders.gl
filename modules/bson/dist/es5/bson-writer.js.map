{"version":3,"file":"bson-writer.js","names":["_encodeBson","require","VERSION","BSONWriter","name","id","module","version","extensions","options","bson","encode","data","_asyncToGenerator2","default","_regenerator","mark","_callee","wrap","_callee$","_context","prev","next","abrupt","encodeBSONSync","stop","encodeSync","exports"],"sources":["../../src/bson-writer.ts"],"sourcesContent":["// loaders.gl, MIT license\n\nimport type {Writer, WriterOptions} from '@loaders.gl/loader-utils';\nimport type {EncodeBSONOptions} from './lib/encoders/encode-bson';\nimport {encodeBSONSync} from './lib/encoders/encode-bson';\n\n// __VERSION__ is injected by babel-plugin-version-inline\n// @ts-ignore TS2304: Cannot find name '__VERSION__'.\nconst VERSION = typeof __VERSION__ !== 'undefined' ? __VERSION__ : 'latest';\n\nexport type BSONWriterOptions = WriterOptions & {\n  bson?: EncodeBSONOptions\n}\n\nexport const BSONWriter: Writer<Record<string, unknown>, never, BSONWriterOptions> = {\n  name: 'BSON',\n  id: 'bson',\n  module: 'bson',\n  version: VERSION,\n  extensions: ['bson'],\n  options: {\n    bson: {}\n  },\n  async encode(data: Record<string, unknown>, options?: WriterOptions): Promise<ArrayBuffer> {\n    return encodeBSONSync(data, {}); // options\n  },\n  encodeSync(data: Record<string, unknown>, options?: WriterOptions): ArrayBuffer {\n    return encodeBSONSync(data, {}); // options\n  }\n};\n"],"mappings":";;;;;;;;;AAIA,IAAAA,WAAA,GAAAC,OAAA;AAIA,IAAMC,OAAO,GAAG,sBAAkB,KAAK,WAAW,qBAAiB,QAAQ;AAMpE,IAAMC,UAAqE,GAAG;EACnFC,IAAI,EAAE,MAAM;EACZC,EAAE,EAAE,MAAM;EACVC,MAAM,EAAE,MAAM;EACdC,OAAO,EAAEL,OAAO;EAChBM,UAAU,EAAE,CAAC,MAAM,CAAC;EACpBC,OAAO,EAAE;IACPC,IAAI,EAAE,CAAC;EACT,CAAC;EACKC,MAAM,WAAAA,OAACC,IAA6B,EAAEH,OAAuB,EAAwB;IAAA,WAAAI,kBAAA,CAAAC,OAAA,EAAAC,YAAA,CAAAD,OAAA,CAAAE,IAAA,UAAAC,QAAA;MAAA,OAAAF,YAAA,CAAAD,OAAA,CAAAI,IAAA,UAAAC,SAAAC,QAAA;QAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YAAA,OAAAF,QAAA,CAAAG,MAAA,WAClF,IAAAC,0BAAc,EAACZ,IAAI,EAAE,CAAC,CAAC,CAAC;UAAA;UAAA;YAAA,OAAAQ,QAAA,CAAAK,IAAA;QAAA;MAAA,GAAAR,OAAA;IAAA;EACjC,CAAC;EACDS,UAAU,WAAAA,WAACd,IAA6B,EAAEH,OAAuB,EAAe;IAC9E,OAAO,IAAAe,0BAAc,EAACZ,IAAI,EAAE,CAAC,CAAC,CAAC;EACjC;AACF,CAAC;AAACe,OAAA,CAAAxB,UAAA,GAAAA,UAAA"}